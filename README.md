<p align="center">
<img src="https://user-images.githubusercontent.com/38559002/218804399-0deb9611-aa27-444b-aad6-749a1995f22b.png">
</p>
<h1 align="center" id="top">AWS SQS - BACKEND</h1>

<p align="center">
  <a href="#dart-about">About</a> &#xa0; | &#xa0; 
  <a href="#rocket-technologies">Technologies</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;  
  <a href="#hammer_and_wrench-prerequisites">Prerequisites</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
  <a href="#zap-running-the-project">Running the Project</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
  <a href="#memo-license">License</a>
</p>


## :dart: About

Small example of a message queue-based microservice using Amazon SQS. The [Frontend (aws-sqs-frontend)](https://github.com/ricellicarvalho/aws-sqs-frontend) is responsible for producing messages in AWS SQS based on the number of images requested in the form.

This backend application is responsible for consuming the AWS SQS messages generated by [Frontend (aws-sqs-frontend)](https://github.com/ricellicarvalho/aws-sqs-frontend) and generating an image in the local imgs directory for each message. To generate the images I used an API called Cat as a service (https://cataas.com).

The images are being saved locally in the imgs directory. A next feature will be saving to Amazon S3 bucket.

### **Preview the application**

https://user-images.githubusercontent.com/38559002/218755305-adb87101-f366-41e4-92c2-770c7a6c756d.mp4

<p align="right">(<a href="#top">Back to top</a>)</p>

## :rocket: Technologies

This project was developed with the following technologies:

- [Node.js](https://nodejs.org/en/)
- [node-cron](https://www.npmjs.com/package/node-cron)
- [AWS SQS](https://aws.amazon.com/sqs/)

<p align="right">(<a href="#top">Back to top</a>)</p>


## :hammer_and_wrench: Prerequisites

- [Node.js](https://nodejs.org/en/)
- [npm](https://www.npmjs.com/package/npm)

<p align="right">(<a href="#top">Back to top</a>)</p>

## :zap: Running the project
**It is necessary that you rename the .env-example file to .env and inform the values for the variables below:**

| Parameter         | Type   | Description |
| ----------------- | ------ | ----------- |
| *region*          | String | AWS region (eg. `"us-east-1"`) |
| *accessKeyId*     | String | IAM Access Key ID |
| *secretAccessKey* | String | IAM Secret Access Key |
| *sqs url*         | String | URL Of Your Queue |

```bash
# Clone this repository
$ git clone git@github.com:ricellicarvalho/aws-sqs-backend.git

# Enter the application
$ cd aws-sqs-backend

# Install dependencies
$ npm install

# Run the command:
$ node consumer.js
```
You will see that the images will be generated in the imgs directory according to the amount of messages consumed in AWS SQS. In the console it is possible to see that the messages are deleted from SQS as soon as they are consumed.

<p align="right">(<a href="#top">Back to top</a>)</p>

## :memo: License

This project is under the ISC license. See file [LICENSE](LICENSE.md) for more details.

<p align="right">(<a href="#top">Back to top</a>)</p>

---

<p align="center">Made with :heart: by <a href="https://github.com/ricellicarvalho" target="_blank">Ricelli Carvalho</a></p>
